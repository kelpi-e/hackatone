"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ —á–∞—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–≤—å—é —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –∑–∞–¥–∞–Ω–∏–µ–º.
–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥–±–æ—Ä–∞ –∑–∞–¥–∞—á –∏ –æ—Ü–µ–Ω–∫–∏ —Ä–µ—à–µ–Ω–∏–π.
"""

import sys
import os
from pathlib import Path
from typing import Optional

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ –º–æ–¥—É–ª—è–º
sys.path.insert(0, str(Path(__file__).parent.parent))

from inreractor.interactor import Interactor
from task_search.task_searcher import TaskSearcher
from openai import OpenAI
import json
import random
from resum.resum import Resume


def create_tasks(task_searcher: TaskSearcher):
    """–°–æ–∑–¥–∞–µ—Ç 10 –∑–∞–¥–∞—á –Ω–∞ —Ä–∞–∑–Ω—ã–µ —Ç–µ–º—ã –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∏—Ö –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö."""
    
    tasks = [
        {
            "–∏–Ω–¥–µ–∫—Å": 1,
            "—É—Å–ª–æ–≤–∏–µ": "–î–∞–Ω –º–∞—Å—Å–∏–≤ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª nums –∏ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ target.",
            "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω–¥–µ–∫—Å—ã –¥–≤—É—Ö —á–∏—Å–µ–ª, —Å—É–º–º–∞ –∫–æ—Ç–æ—Ä—ã—Ö —Ä–∞–≤–Ω–∞ target. –ú–æ–∂–Ω–æ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç—å, —á—Ç–æ —Ä–µ—à–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –æ–Ω–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ."
        },
        {
            "–∏–Ω–¥–µ–∫—Å": 2,
            "—É—Å–ª–æ–≤–∏–µ": "–î–∞–Ω–æ –±–∏–Ω–∞—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ.",
            "–æ–ø–∏—Å–∞–Ω–∏–µ": "–†–µ–∞–ª–∏–∑—É–π—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º –æ–±—Ö–æ–¥–∞ –¥–µ—Ä–µ–≤–∞ –≤ –≥–ª—É–±–∏–Ω—É (DFS) –∏ –≤–µ—Ä–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è —É–∑–ª–æ–≤ –≤ –ø–æ—Ä—è–¥–∫–µ –æ–±—Ö–æ–¥–∞."
        },
        {
            "–∏–Ω–¥–µ–∫—Å": 3,
            "—É—Å–ª–æ–≤–∏–µ": "–î–∞–Ω –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ –≤ –≤–∏–¥–µ —Å–ø–∏—Å–∫–∞ —Å–º–µ–∂–Ω–æ—Å—Ç–∏.",
            "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫—Ä–∞—Ç—á–∞–π—à–µ–≥–æ –ø—É—Ç–∏ –º–µ–∂–¥—É –¥–≤—É–º—è –≤–µ—Ä—à–∏–Ω–∞–º–∏ –∏—Å–ø–æ–ª—å–∑—É—è –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ –≤ —à–∏—Ä–∏–Ω—É (BFS)."
        },
        {
            "–∏–Ω–¥–µ–∫—Å": 4,
            "—É—Å–ª–æ–≤–∏–µ": "–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö —Å—Ç–µ–∫.",
            "–æ–ø–∏—Å–∞–Ω–∏–µ": "–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å Stack —Å –º–µ—Ç–æ–¥–∞–º–∏ push, pop, peek –∏ isEmpty. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤."
        },
        {
            "–∏–Ω–¥–µ–∫—Å": 5,
            "—É—Å–ª–æ–≤–∏–µ": "–î–∞–Ω –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª –∏ —Ü–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.",
            "–æ–ø–∏—Å–∞–Ω–∏–µ": "–†–µ–∞–ª–∏–∑—É–π—Ç–µ –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞ —Ü–µ–ª–µ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –≤–µ—Ä–Ω–∏—Ç–µ -1."
        },
        {
            "–∏–Ω–¥–µ–∫—Å": 6,
            "—É—Å–ª–æ–≤–∏–µ": "–î–∞–Ω–∞ —Å—Ç—Ä–æ–∫–∞ s.",
            "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å—Ç—Ä–æ–∫–∞ –ø–∞–ª–∏–Ω–¥—Ä–æ–º–æ–º. –ò–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä –∏ –Ω–µ–±—É–∫–≤–µ–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã."
        },
        {
            "–∏–Ω–¥–µ–∫—Å": 7,
            "—É—Å–ª–æ–≤–∏–µ": "–î–∞–Ω –º–∞—Å—Å–∏–≤ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª.",
            "–æ–ø–∏—Å–∞–Ω–∏–µ": "–†–µ–∞–ª–∏–∑—É–π—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Å–ª–∏—è–Ω–∏–µ–º (merge sort) –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –º–∞—Å—Å–∏–≤–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é."
        },
        {
            "–∏–Ω–¥–µ–∫—Å": 8,
            "—É—Å–ª–æ–≤–∏–µ": "–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞.",
            "–æ–ø–∏—Å–∞–Ω–∏–µ": "–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å HashTable —Å –º–µ—Ç–æ–¥–∞–º–∏ put, get –∏ remove. –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –∫–æ–ª–ª–∏–∑–∏–∏ –º–µ—Ç–æ–¥–æ–º —Ü–µ–ø–æ—á–µ–∫."
        },
        {
            "–∏–Ω–¥–µ–∫—Å": 9,
            "—É—Å–ª–æ–≤–∏–µ": "–î–∞–Ω–æ —á–∏—Å–ª–æ n.",
            "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è n-–≥–æ —á–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏. –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ —á–∏—Å–ª–∞–º–∏."
        },
        {
            "–∏–Ω–¥–µ–∫—Å": 10,
            "—É—Å–ª–æ–≤–∏–µ": "–î–∞–Ω –º–∞—Å—Å–∏–≤ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –≤—ã—Å–æ—Ç—ã —Å—Ç–æ–ª–±—Ü–æ–≤.",
            "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ù–∞–π–¥–∏—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –ø–ª–æ—â–∞–¥—å –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –º–µ–∂–¥—É —Å—Ç–æ–ª–±—Ü–∞–º–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥—Ö–æ–¥ —Å –¥–≤—É–º—è —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏."
        }
    ]
    
    print("–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö...")
    task_searcher.add_tasks_from_json(tasks)
    print(f"–î–æ–±–∞–≤–ª–µ–Ω–æ –∑–∞–¥–∞—á: {task_searcher.get_task_count()}\n")
    
    return tasks


def generate_fake_code_quality_report(attempt: int) -> str:
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ–∏–∫—Ç–∏–≤–Ω—ã–π –æ—Ç—á–µ—Ç –æ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–¥–∞."""
    
    reports = [
        "–ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω —á–∏—Å—Ç–æ, —Å–ª–µ–¥—É–µ—Ç –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º. –•–æ—Ä–æ—à–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞.",
        "–ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–æ –µ—Å—Ç—å –Ω–µ–±–æ–ª—å—à–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π. –ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.",
        "–†–µ—à–µ–Ω–∏–µ —á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤.",
        "–ö–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏ –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è. –¢—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.",
        "–†–µ—à–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–Ω–æ–µ, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π.",
        "–û—Ç–ª–∏—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ! –ö–æ–¥ –æ–ø—Ç–∏–º–∞–ª–µ–Ω, —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –∏ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ —Å–ª—É—á–∞–∏.",
        "–ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—ã SOLID. –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥.",
        "–†–µ—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ, –Ω–æ –Ω–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º."
    ]
    
    # –ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞ –æ–±—ã—á–Ω–æ –ª—É—á—à–µ, –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Ö—É–∂–µ
    if attempt == 1:
        return random.choice(reports[:3] + [reports[5]])  # –•–æ—Ä–æ—à–∏–µ –∏–ª–∏ –æ—Ç–ª–∏—á–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
    elif attempt == 2:
        return random.choice(reports[1:4] + reports[6:8])  # –°—Ä–µ–¥–Ω–∏–µ –æ—Ç—á–µ—Ç—ã
    else:
        return random.choice(reports[2:5])  # –ü–ª–æ—Ö–∏–µ –∏–ª–∏ —Å—Ä–µ–¥–Ω–∏–µ –æ—Ç—á–µ—Ç—ã


def generate_fake_solution_completeness(attempt: int) -> str:
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ–∏–∫—Ç–∏–≤–Ω—ã–π –æ—Ç—á–µ—Ç –æ –ø–æ–ª–Ω–æ—Ç–µ —Ä–µ—à–µ–Ω–∏—è."""
    
    completions = [
        "–ü–æ–ª–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ. –í—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ.",
        "–†–µ—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤, –Ω–æ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è.",
        "–ß–∞—Å—Ç–∏—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è.",
        "–†–µ—à–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–Ω–æ–µ. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.",
        "–†–µ—à–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ö–æ–¥ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã.",
        "–û—Ç–ª–∏—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ! –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –≤–∫–ª—é—á–∞—è –æ–±—Ä–∞–±–æ—Ç–∫—É –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞–µ–≤.",
        "–†–µ—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ. –ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å."
    ]
    
    if attempt == 1:
        return random.choice(completions[2:5])  # –ü–ª–æ—Ö–∏–µ –∏–ª–∏ —Å—Ä–µ–¥–Ω–∏–µ
    elif attempt == 2:
        return random.choice(completions[1:4] + [completions[6]])  # –°—Ä–µ–¥–Ω–∏–µ
    else:
        return random.choice(completions[:2] + [completions[5]])  # –•–æ—Ä–æ—à–∏–µ


def generate_improved_code_quality_report() -> str:
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç—á–µ—Ç –æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω–Ω–æ–º –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–¥–∞."""
    return random.choice([
        "–ö–æ–¥ –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –∞–∫–∫—É—Ä–∞—Ç–Ω–æ, —Å–æ–±–ª—é–¥–µ–Ω—ã —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞–ª–∞ –ø–æ–Ω—è—Ç–Ω–µ–µ.",
        "–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —É–¥–∞–ª—Å—è: –∫–æ–¥ —á–∏—Å—Ç—ã–π, –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏.",
        "–ö–æ–¥ —Å—Ç–∞–ª –±–æ–ª–µ–µ —É—Å—Ç–æ–π—á–∏–≤—ã–º: –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏, –ª–æ–≥–∏–∫–∞ —É–ø—Ä–æ—â–µ–Ω–∞."
    ])


def generate_improved_solution_completeness() -> str:
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç—á–µ—Ç –æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–º —Ä–µ—à–µ–Ω–∏–∏."""
    return random.choice([
        "–ü–æ–ª–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ. –í—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏, –≤–∫–ª—é—á–∞—è –≥—Ä–∞–Ω–∏—á–Ω—ã–µ, –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ.",
        "–†–µ—à–µ–Ω–∏–µ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è.",
        "–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞: —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ —á–∞—Å—Ç–∏ –∑–∞–¥–∞—á–∏, —É—á—Ç–µ–Ω—ã –∫—Ä–∞–π–Ω–∏–µ —Å–ª—É—á–∞–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è."
    ])


def generate_candidate_response_to_hint(hint_question: str, code_quality: str, 
                                       solution_completeness: str) -> str:
    """
    –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –Ω–∞ –Ω–∞–≤–æ–¥—è—â–∏–π –≤–æ–ø—Ä–æ—Å.
    
    Args:
        hint_question: –Ω–∞–≤–æ–¥—è—â–∏–π –≤–æ–ø—Ä–æ—Å
        code_quality: –æ—Ç—á–µ—Ç –æ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–¥–∞
        solution_completeness: –æ—Ç—á–µ—Ç –æ –ø–æ–ª–Ω–æ—Ç–µ —Ä–µ—à–µ–Ω–∏—è
    
    Returns:
        –û—Ç–≤–µ—Ç –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
    """
    
    # –ë–∞–∑–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã
    base_responses = [
        "–ü–æ–Ω—è–ª, —Å–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–¥—Å–∫–∞–∑–∫—É. –Ø —É—á—Ç—É —ç—Ç–æ –ø—Ä–∏ –¥–æ—Ä–∞–±–æ—Ç–∫–µ —Ä–µ—à–µ–Ω–∏—è.",
        "–•–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å. –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, —è –Ω–µ —É—á–µ–ª —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç. –ò—Å–ø—Ä–∞–≤–ª—é.",
        "–î–∞, –≤—ã –ø—Ä–∞–≤—ã. –Ø –ø—Ä–æ–ø—É—Å—Ç–∏–ª —ç—Ç–æ—Ç –≤–∞–∂–Ω—ã–π –∞—Å–ø–µ–∫—Ç. –ü–µ—Ä–µ–¥–µ–ª–∞—é —Å —É—á–µ—Ç–æ–º –≤–∞—à–µ–≥–æ –∑–∞–º–µ—á–∞–Ω–∏—è.",
        "–°–ø–∞—Å–∏–±–æ –∑–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ. –Ø –ø–æ–¥—É–º–∞—é –Ω–∞–¥ —ç—Ç–∏–º –∏ —É–ª—É—á—à—É —Ä–µ—à–µ–Ω–∏–µ.",
        "–ü–æ–Ω—è–ª –ø—Ä–æ–±–ª–µ–º—É. –°–µ–π—á–∞—Å –∏—Å–ø—Ä–∞–≤–ª—é –∫–æ–¥ —Å —É—á–µ—Ç–æ–º –≤–∞—à–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞.",
        "–•–æ—Ä–æ—à–∞—è –º—ã—Å–ª—å. –Ø –¥–æ–±–∞–≤–ª—é –æ–±—Ä–∞–±–æ—Ç–∫—É —ç—Ç–æ–≥–æ —Å–ª—É—á–∞—è –≤ —Ä–µ—à–µ–Ω–∏–µ.",
        "–í—ã –ø—Ä–∞–≤—ã, —è –Ω–µ —É—á–µ–ª —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç. –°–µ–π—á–∞—Å –¥–æ—Ä–∞–±–æ—Ç–∞—é –∞–ª–≥–æ—Ä–∏—Ç–º."
    ]
    
    # –ë–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –≤–æ–ø—Ä–æ—Å–∞
    hint_lower = hint_question.lower()
    
    if "–≥—Ä–∞–Ω–∏—á–Ω" in hint_lower or "–∫—Ä–∞–π–Ω" in hint_lower or "–ø—É—Å—Ç" in hint_lower:
        specific_responses = [
            "–¢–æ—á–Ω–æ, —è –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–ª –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏. –î–æ–±–∞–≤–ª—é –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö.",
            "–•–æ—Ä–æ—à–∏–π –º–æ–º–µ–Ω—Ç. –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞–µ–≤ –≤ –∞–ª–≥–æ—Ä–∏—Ç–º.",
            "–ü–æ–Ω—è–ª, —è –ø—Ä–æ–ø—É—Å—Ç–∏–ª –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –ø—É—Å—Ç—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –ò—Å–ø—Ä–∞–≤–ª—é."
        ]
        return random.choice(specific_responses + base_responses)
    
    if "–æ–ø—Ç–∏–º–∏–∑–∞—Ü" in hint_lower or "—Å–ª–æ–∂–Ω–æ—Å—Ç—å" in hint_lower or "–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å" in hint_lower:
        specific_responses = [
            "–î–∞, –≤—ã –ø—Ä–∞–≤—ã. –ú–æ–µ —Ä–µ—à–µ–Ω–∏–µ –Ω–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ. –ü–æ–ø—Ä–æ–±—É—é —É–ª—É—á—à–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å.",
            "–•–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å. –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ. –ü–µ—Ä–µ—Å–º–æ—Ç—Ä—é –ø–æ–¥—Ö–æ–¥.",
            "–ü–æ–Ω—è–ª, –Ω—É–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å. –ü–æ–ø—Ä–æ–±—É—é –Ω–∞–π—Ç–∏ –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º."
        ]
        return random.choice(specific_responses + base_responses)
    
    if "–æ—à–∏–±–∫" in hint_lower or "—Å–∏–Ω—Ç–∞–∫—Å–∏—Å" in hint_lower or "–ª–æ–≥–∏–∫" in hint_lower:
        specific_responses = [
            "–°–ø–∞—Å–∏–±–æ, –ø—Ä–æ–≤–µ—Ä—é —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –ª–æ–≥–∏–∫—É –∞–ª–≥–æ—Ä–∏—Ç–º–∞. –ù–∞–π–¥—É –∏ –∏—Å–ø—Ä–∞–≤–ª—é –æ—à–∏–±–∫–∏.",
            "–ü–æ–Ω—è–ª, –Ω—É–∂–Ω–æ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥. –ò—Å–ø—Ä–∞–≤–ª—é –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã.",
            "–•–æ—Ä–æ—à–æ, –ø—Ä–æ–π–¥—É—Å—å –ø–æ –∫–æ–¥—É –µ—â–µ —Ä–∞–∑ –∏ –∏—Å–ø—Ä–∞–≤–ª—é –æ—à–∏–±–∫–∏."
        ]
        return random.choice(specific_responses + base_responses)
    
    if "–º–µ—Ç–æ–¥" in hint_lower or "—Å—Ç—Ä—É–∫—Ç—É—Ä" in hint_lower:
        specific_responses = [
            "–¢–æ—á–Ω–æ, –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –º–µ—Ç–æ–¥—ã. –£–±–µ–¥—é—Å—å, —á—Ç–æ –æ–Ω–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.",
            "–ü–æ–Ω—è–ª, –ø—Ä–æ–≤–µ—Ä—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö. –ò—Å–ø—Ä–∞–≤–ª—é –Ω–µ–¥–æ—á–µ—Ç—ã.",
            "–•–æ—Ä–æ—à–∏–π –º–æ–º–µ–Ω—Ç. –ü–µ—Ä–µ—Å–º–æ—Ç—Ä—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–µ—Ç–æ–¥–æ–≤."
        ]
        return random.choice(specific_responses + base_responses)
    
    return random.choice(base_responses)


def generate_hinting_question(task_description: str, code_quality: str, 
                              solution_completeness: str, attempt: int) -> str:
    """
    –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–∞–≤–æ–¥—è—â–∏–π –≤–æ–ø—Ä–æ—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–¥–∞—á–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è.
    
    Args:
        task_description: –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
        code_quality: –æ—Ç—á–µ—Ç –æ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–¥–∞
        solution_completeness: –æ—Ç—á–µ—Ç –æ –ø–æ–ª–Ω–æ—Ç–µ —Ä–µ—à–µ–Ω–∏—è
        attempt: –Ω–æ–º–µ—Ä –ø–æ–ø—ã—Ç–∫–∏
    
    Returns:
        –ù–∞–≤–æ–¥—è—â–∏–π –≤–æ–ø—Ä–æ—Å –¥–ª—è –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
    """
    
    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –ø—Ä–æ–±–ª–µ–º—ã
    has_errors = any(word in code_quality.lower() for word in ["–æ—à–∏–±–∫", "–Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è", "–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"])
    incomplete = any(word in solution_completeness.lower() for word in ["–Ω–µ–ø–æ–ª–Ω", "—á–∞—Å—Ç–∏—á–Ω", "—Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å"])
    not_optimal = any(word in code_quality.lower() + solution_completeness.lower() 
                     for word in ["–Ω–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω", "–º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å", "–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"])
    edge_cases = any(word in solution_completeness.lower() for word in ["–≥—Ä–∞–Ω–∏—á–Ω", "–∫—Ä–∞–π–Ω"])
    
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤–æ–ø—Ä–æ—Å—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∑–∞–¥–∞—á–∏ –∏ –ø—Ä–æ–±–ª–µ–º—ã
    task_lower = task_description.lower()
    
    hints = []
    
    # –í–æ–ø—Ä–æ—Å—ã –ø–æ –≥—Ä–∞–Ω–∏—á–Ω—ã–º —Å–ª—É—á–∞—è–º
    if edge_cases or incomplete:
        if "–º–∞—Å—Å–∏–≤" in task_lower or "—Å–ø–∏—Å–æ–∫" in task_lower:
            hints.append("–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç–æ–π? –ö–∞–∫ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —ç—Ç–æ—Ç —Å–ª—É—á–∞–π?")
            hints.append("–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ –º–∞—Å—Å–∏–≤ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç.")
        if "–¥–µ—Ä–µ–≤–æ" in task_lower or "–≥—Ä–∞—Ñ" in task_lower:
            hints.append("–ö–∞–∫ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ –¥–µ—Ä–µ–≤–æ/–≥—Ä–∞—Ñ –ø—É—Å—Ç–æ–µ?")
            hints.append("–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –≤ –¥–µ—Ä–µ–≤–µ/–≥—Ä–∞—Ñ–µ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —É–∑–µ–ª?")
        if "–ø–æ–∏—Å–∫" in task_lower:
            hints.append("–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –∏—Å–∫–æ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç?")
            hints.append("–ö–∞–∫ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ –º–∞—Å—Å–∏–≤–∞?")
    
    # –í–æ–ø—Ä–æ—Å—ã –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
    if not_optimal:
        if "—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞" in task_lower or "–ø–æ–∏—Å–∫" in task_lower:
            hints.append("–ö–∞–∫–æ–≤–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≤–∞—à–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è? –ú–æ–∂–Ω–æ –ª–∏ —É–ª—É—á—à–∏—Ç—å?")
            hints.append("–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞.")
        if "–º–∞—Å—Å–∏–≤" in task_lower:
            hints.append("–ú–æ–∂–Ω–æ –ª–∏ —Ä–µ—à–∏—Ç—å –∑–∞–¥–∞—á—É –∑–∞ –æ–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥ –ø–æ –º–∞—Å—Å–∏–≤—É?")
            hints.append("–ü–æ–¥—É–º–∞–π—Ç–µ –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö.")
    
    # –í–æ–ø—Ä–æ—Å—ã –ø–æ –æ—à–∏–±–∫–∞–º
    if has_errors:
        hints.append("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–¥–∞. –ï—Å—Ç—å –ª–∏ –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã–µ —Å–∫–æ–±–∫–∏ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã?")
        hints.append("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏–∫—É –∞–ª–≥–æ—Ä–∏—Ç–º–∞. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –≤—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ –≤—Å–µ —É—Å–ª–æ–≤–∏—è?")
        hints.append("–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–¥ –º—ã—Å–ª–µ–Ω–Ω–æ –Ω–∞ –ø—Ä–æ—Å—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ. –ì–¥–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—à–∏–±–∫–∞?")
    
    # –í–æ–ø—Ä–æ—Å—ã –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º –¥–∞–Ω–Ω—ã—Ö
    if "—Å—Ç–µ–∫" in task_lower or "–æ—á–µ—Ä–µ–¥—å" in task_lower or "—Ö–µ—à" in task_lower:
        if incomplete:
            hints.append("–í—Å–µ –ª–∏ –º–µ—Ç–æ–¥—ã —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ?")
            hints.append("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø—É—Å—Ç—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö.")
    
    # –í–æ–ø—Ä–æ—Å—ã –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º
    if "bfs" in task_lower or "dfs" in task_lower:
        if incomplete or has_errors:
            hints.append("–ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –≤—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç–µ –ø–æ—Å–µ—â–µ–Ω–Ω—ã–µ —É–∑–ª—ã?")
            hints.append("–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–µ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –≥—Ä–∞—Ñ–∞—Ö.")
    
    if "–¥–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è" in task_lower or "—É–∫–∞–∑–∞—Ç–µ–ª—å" in task_lower:
        hints.append("–ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –≤—ã –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏? –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –¥–≤–∏–≥–∞—Ç—å –∫–∞–∂–¥—ã–π?")
        hints.append("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å–ª–æ–≤–∏—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ü–∏–∫–ª–∞ —Å –¥–≤—É–º—è —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏.")
    
    # –û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã, –µ—Å–ª–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –Ω–µ—Ç
    if not hints:
        if incomplete:
            hints.append("–ö–∞–∫–∏–µ —á–∞—Å—Ç–∏ –∑–∞–¥–∞—á–∏ –µ—â–µ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã?")
            hints.append("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –≤—Å–µ –ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏–∑ —É—Å–ª–æ–≤–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.")
        if has_errors:
            hints.append("–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ—à–∞–≥–æ–≤–æ. –ì–¥–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–∞?")
        else:
            hints.append("–ü–æ–¥—É–º–∞–π—Ç–µ, –º–æ–∂–Ω–æ –ª–∏ —É–ª—É—á—à–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ?")
            hints.append("–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ —Ä–µ—à–µ–Ω–∏—é.")
    
    # –í—ã–±–∏—Ä–∞–µ–º –≤–æ–ø—Ä–æ—Å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–ø—ã—Ç–∫–∏
    if attempt == 1:
        # –ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞ - –±–æ–ª–µ–µ –æ–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã
        return random.choice([h for h in hints if "–ø–æ–¥—É–º–∞–π—Ç–µ" in h.lower() or "—Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ" in h.lower()] or hints)
    elif attempt == 2:
        # –í—Ç–æ—Ä–∞—è –ø–æ–ø—ã—Ç–∫–∞ - –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
        return random.choice([h for h in hints if "?" in h] or hints)
    else:
        # –¢—Ä–µ—Ç—å—è –ø–æ–ø—ã—Ç–∫–∞ - —Å–∞–º—ã–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
        return random.choice(hints)


def print_theory_progress(interactor: Interactor):
    """–ü–µ—á–∞—Ç–∞–µ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∏—Ç–æ–≥–∏ –ø–æ —Ç–µ–æ—Ä–∏–∏."""
    try:
        score = interactor.compute_theory_score()
    except Exception:
        print("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ—Å—á–∏—Ç–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —Ç–µ–æ—Ä–∏–∏.")
        return

    print("\n--- –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –∏—Ç–æ–≥ –ø–æ —Ç–µ–æ—Ä–∏–∏ ---")
    print(f"–í—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤: {score.get('questions_total', 0)}")
    print(f"–û—Ç–≤–µ—á–µ–Ω–æ: {score.get('answered', 0)}")
    print(f"–ù–∞–±—Ä–∞–Ω–æ –±–∞–ª–ª–æ–≤: {score.get('score', 0)} –∏–∑ {score.get('max_score', 0)}")
    print(f"–ü—Ä–æ—Ü–µ–Ω—Ç: {round(score.get('ratio', 0) * 100, 1)}%\n")


def print_practice_progress(interactor: Interactor):
    """–ü–µ—á–∞—Ç–∞–µ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∏—Ç–æ–≥–∏ –ø–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º –∑–∞–¥–∞—á–∞–º."""
    practice_tasks = [
        item for item in interactor.chat_history
        if item.get("type") == "practice_task"
    ]

    if not practice_tasks:
        print("–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –µ—â–µ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å.")
        return

    total_attempts = len(practice_tasks)
    unique_tasks = len(set(item.get("task_index") for item in practice_tasks))

    verdicts = {"mastered": 0, "partially_mastered": 0, "not_mastered": 0, "continue": 0}
    for item in practice_tasks:
        verdict = item.get("verdict", "continue")
        if verdict not in verdicts:
            verdicts[verdict] = 0
        verdicts[verdict] += 1

    print("\n--- –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –∏—Ç–æ–≥ –ø–æ –ø—Ä–∞–∫—Ç–∏–∫–µ ---")
    print(f"–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–æ –∑–∞–¥–∞—á: {unique_tasks}")
    print(f"–ü–æ–ø—ã—Ç–æ–∫ –≤—Å–µ–≥–æ: {total_attempts}")
    print("–í–µ—Ä–¥–∏–∫—Ç—ã:")
    for verdict, count in verdicts.items():
        if count:
            print(f"  {verdict}: {count}")
    print()


def simulate_interview():
    """–ò–º–∏—Ç–∏—Ä—É–µ—Ç —á–∞—Å—Ç—å –∏–Ω—Ç–µ—Ä–≤—å—é —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –∑–∞–¥–∞–Ω–∏–µ–º."""
    
    print("=" * 80)
    print("–ò–ú–ò–¢–ê–¶–ò–Ø –ò–ù–¢–ï–†–í–¨–Æ –° –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ú –ó–ê–î–ê–ù–ò–ï–ú")
    print("=" * 80)
    print()
    
    # –°–æ–∑–¥–∞–µ–º –∫–ª–∏–µ–Ω—Ç OpenAI
    client = OpenAI(
        api_key="sk-EntOXD173KXh0i-jb0esww",
        base_url="https://llm.t1v.scibox.tech/v1"
    )
    
    # –°–æ–∑–¥–∞–µ–º TaskSearcher
    db_file = os.path.join(os.path.dirname(__file__), "task_database.pkl")
    
    if os.path.exists(db_file):
        print(f"–ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞ {db_file}...")
        try:
            task_searcher = TaskSearcher.load_from_file(client, db_file)
            print(f"–ó–∞–≥—Ä—É–∂–µ–Ω–æ –∑–∞–¥–∞—á: {task_searcher.get_task_count()}\n")
        except Exception as e:
            print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: {e}")
            print("–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...")
            task_searcher = TaskSearcher(client=client, model_name="bge-m3")
            create_tasks(task_searcher)
            print(f"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª {db_file}...")
            task_searcher.save_to_file(db_file)
            print("–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞.\n")
    else:
        print("–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...")
        task_searcher = TaskSearcher(client=client, model_name="bge-m3")
        create_tasks(task_searcher)
        print(f"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª {db_file}...")
        task_searcher.save_to_file(db_file)
        print("–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞.\n")
    
    # –°–æ–∑–¥–∞–µ–º Interactor —Å —Ñ–∏–∫—Ç–∏–≤–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –Ω–∞–≤—ã–∫–æ–≤ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
    print("–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä–∞...")
    interactor = Interactor(key="sk-EntOXD173KXh0i-jb0esww", task_searcher=task_searcher)
    
    # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞–≤—ã–∫–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
    hard_desc = (
        "–Ø –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç —Å –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã —Å –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö. "
        "–ó–Ω–∞—é –æ—Å–Ω–æ–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, –ø–æ–∏—Å–∫–∞, —Ä–∞–±–æ—Ç—É —Å –≥—Ä–∞—Ñ–∞–º–∏ –∏ –¥–µ—Ä–µ–≤—å—è–º–∏. "
        "–£–º–µ—é —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö: —Å—Ç–µ–∫–∏, –æ—á–µ—Ä–µ–¥–∏, —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã. "
        "–ò–º–µ—é –æ–ø—ã—Ç —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á –Ω–∞ LeetCode —Å—Ä–µ–¥–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏."
    )
    
    print("–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞–≤—ã–∫–æ–≤ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞...")
    result = interactor.put_hard_desc(hard_desc)
    if not result["success"]:
        print(f"–û—à–∏–±–∫–∞: {result['message']}")
        return
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –∏–Ω—Ç–µ—Ä–≤—å—é
    print("–ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–≤—å—é...")
    result = interactor.start_interview()
    if not result["success"]:
        print(f"–û—à–∏–±–∫–∞: {result['message']}")
        return
    
    # –ü—Ä–æ—Ö–æ–¥–∏–º —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫—É—é —á–∞—Å—Ç—å (–∏–º–∏—Ç–∏—Ä—É–µ–º –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã)
    print("\n" + "=" * 80)
    print("–¢–ï–û–†–ï–¢–ò–ß–ï–°–ö–ê–Ø –ß–ê–°–¢–¨ (–∏–º–∏—Ç–∞—Ü–∏—è)")
    print("=" * 80)
    
    while True:
        question = interactor.get_next_question()
        if question is None:
            break
        
        print(f"\n–í–æ–ø—Ä–æ—Å: {question}")
        
        # –ò–º–∏—Ç–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
        fake_answer = (
            "–≠—Ç–æ —Ö–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å. –í –æ–±—â–µ–º —Å–ª—É—á–∞–µ, –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º: "
            "–Ω—É–∂–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Ö –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏. "
            "–í–∞–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å."
        )
        
        result = interactor.submit_theory_answer(fake_answer)
        if not result["success"]:
            print(f"–û—à–∏–±–∫–∞: {result['message']}")
            break

    print_theory_progress(interactor)
    
    # –°—Ç—Ä–æ–∏–º —Ä–µ–∑—é–º–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
    print("\n" + "=" * 80)
    print("–ü–û–°–¢–†–û–ï–ù–ò–ï –†–ï–ó–Æ–ú–ï –ö–ê–ù–î–ò–î–ê–¢–ê")
    print("=" * 80)
    summary = interactor.build_candidate_summary()
    print(f"\n–†–µ–∑—é–º–µ: {summary}\n")
    
    # –ù–∞—á–∏–Ω–∞–µ–º –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫—É—é —á–∞—Å—Ç—å
    print("=" * 80)
    print("–ü–†–ê–ö–¢–ò–ß–ï–°–ö–ê–Ø –ß–ê–°–¢–¨")
    print("=" * 80)
    
    result = interactor.start_practice_stage(top_k=5)
    if not result["success"]:
        print(f"–û—à–∏–±–∫–∞: {result['message']}")
        return
    
    print(f"–ü–æ–¥–æ–±—Ä–∞–Ω–æ –∑–∞–¥–∞—á: {result['tasks_count']}\n")
    
    # –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –∑–∞–¥–∞—á–∞–º
    task_num = 0
    while True:
        task = interactor.get_next_task()
        if task is None:
            break
        
        task_num += 1
        pending_hint: Optional[str] = None
        print(f"\n{'=' * 80}")
        print(f"–ó–ê–î–ê–ß–ê #{task_num} (–∏–Ω–¥–µ–∫—Å: {task['task_index']})")
        print(f"{'=' * 80}")
        print(f"–û–ø–∏—Å–∞–Ω–∏–µ:\n{task['description']}\n")
        
        # –ò–º–∏—Ç–∏—Ä—É–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ø—ã—Ç–æ–∫ —Ä–µ—à–µ–Ω–∏—è
        max_attempts = random.randint(1, 3)
        attempt = 0
        
        while attempt < max_attempts:
            attempt += 1
            print(f"\n--- –ü–æ–ø—ã—Ç–∫–∞ {attempt} ---")
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∞, –∫–æ—Ç–æ—Ä—É—é –∫–∞–Ω–¥–∏–¥–∞—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –ø—Ä–∏–º–µ–Ω–∏—Ç—å
            improved_submission = False
            if pending_hint:
                improved_submission = True
                print("–ö–∞–Ω–¥–∏–¥–∞—Ç —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É –∏ –≥–æ—Ç–æ–≤–∏—Ç –¥–æ—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.")
                print(f"–ü–æ–¥—Å–∫–∞–∑–∫–∞, –∫–æ—Ç–æ—Ä—É—é –æ–Ω –ø—Ä–∏–º–µ–Ω—è–µ—Ç: {pending_hint}\n")
                pending_hint = None
            
            # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ—Ç—á–µ—Ç—ã –æ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–¥–∞ –∏ –ø–æ–ª–Ω–æ—Ç–µ —Ä–µ—à–µ–Ω–∏—è
            if improved_submission:
                print("‚öôÔ∏è  –î–æ—Ä–∞–±–æ—Ç–∫–∞: –∫–∞–Ω–¥–∏–¥–∞—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏.")
                code_quality = generate_improved_code_quality_report()
                solution_completeness = generate_improved_solution_completeness()
            else:
                code_quality = generate_fake_code_quality_report(attempt)
                solution_completeness = generate_fake_solution_completeness(attempt)
            
            print(f"–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞: {code_quality}")
            print(f"–ü–æ–ª–Ω–æ—Ç–∞ —Ä–µ—à–µ–Ω–∏—è: {solution_completeness}")
            
            # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
            candidate_message = None
            if attempt > 1:
                candidate_message = f"–Ø –∏—Å–ø—Ä–∞–≤–∏–ª –æ—à–∏–±–∫–∏ –∏ —É–ª—É—á—à–∏–ª —Ä–µ—à–µ–Ω–∏–µ. –í–æ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è."
            
            # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –æ—Ü–µ–Ω–∫—É
            result = interactor.submit_task_solution(
                code_quality=code_quality,
                solution_completeness=solution_completeness,
                candidate_message=candidate_message
            )
            
            if not result["success"]:
                print(f"–û—à–∏–±–∫–∞: {result['message']}")
                break
            
            print(f"\n–í–µ—Ä–¥–∏–∫—Ç: {result['verdict']}")
            print(f"–°–æ–æ–±—â–µ–Ω–∏–µ: {result['message']}")
            
            # –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–π
            if result["task_completed"]:
                print(f"\n‚úì –ó–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —Å –≤–µ—Ä–¥–∏–∫—Ç–æ–º: {result['verdict']}")
                break
            
            # –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –¥–∏–∞–ª–æ–≥ - –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞–≤–æ–¥—è—â–∏–π –≤–æ–ø—Ä–æ—Å –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏
            if result["needs_retry"] and attempt < max_attempts:
                print("\n" + "-" * 80)
                print("–ù–ê–ß–ê–õ–û –û–ë–°–£–ñ–î–ï–ù–ò–Ø –ó–ê–î–ê–ß–ò")
                print("-" * 80)
                
                # –ü–æ–ª—É—á–∞–µ–º –Ω–∞–≤–æ–¥—è—â–∏–π –≤–æ–ø—Ä–æ—Å –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤ interactor)
                hinting_question = result.get("hint")
                
                # –ï—Å–ª–∏ –Ω–∞–≤–æ–¥—è—â–∏–π –≤–æ–ø—Ä–æ—Å –Ω–µ –±—ã–ª —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º fallback
                if not hinting_question:
                    hinting_question = generate_hinting_question(
                        task_description=task['description'],
                        code_quality=code_quality,
                        solution_completeness=solution_completeness,
                        attempt=attempt
                    )
                
                # –ù–∞—á–∏–Ω–∞–µ–º –æ–±—Å—É–∂–¥–µ–Ω–∏–µ: –∫–∞–Ω–¥–∏–¥–∞—Ç –ø—Ä–æ—Å–∏—Ç –ø–æ–º–æ—â–∏
                candidate_help_request = "–ú–æ–∂–µ—Ç–µ –¥–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É, –∫–∞–∫ —É–ª—É—á—à–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ?"
                print(f"üí¨ –ö–∞–Ω–¥–∏–¥–∞—Ç: {candidate_help_request}\n")
                
                # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –≤ –∏—Å—Ç–æ—Ä–∏—é
                interactor.task_dialogue_history.append({
                    "role": "candidate",
                    "content": candidate_help_request
                })
                
                # –ò–Ω—Ç–µ—Ä–≤—å—é–µ—Ä –∑–∞–¥–∞–µ—Ç –Ω–∞–≤–æ–¥—è—â–∏–π –≤–æ–ø—Ä–æ—Å (—É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ)
                print(f"üë§ –ò–Ω—Ç–µ—Ä–≤—å—é–µ—Ä: {hinting_question}\n")
                
                # –ù–∞–≤–æ–¥—è—â–∏–π –≤–æ–ø—Ä–æ—Å —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ task_dialogue_history –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ,
                # –Ω–æ –µ—Å–ª–∏ –µ–≥–æ —Ç–∞–º –Ω–µ—Ç, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Ä—É—á–Ω—É—é
                if not any(entry.get("content") == hinting_question 
                          for entry in interactor.task_dialogue_history 
                          if entry.get("role") == "interviewer"):
                    interactor.task_dialogue_history.append({
                        "role": "interviewer",
                        "content": hinting_question
                    })
                
                # –ò–º–∏—Ç–∏—Ä—É–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞—É–Ω–¥–æ–≤ –æ–±—Å—É–∂–¥–µ–Ω–∏—è
                discussion_rounds = random.randint(1, 2)  # 1-2 —Ä–∞—É–Ω–¥–∞ –æ–±—Å—É–∂–¥–µ–Ω–∏—è
                
                for round_num in range(discussion_rounds):
                    # –û—Ç–≤–µ—Ç –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –Ω–∞ –Ω–∞–≤–æ–¥—è—â–∏–π –≤–æ–ø—Ä–æ—Å
                    candidate_response = generate_candidate_response_to_hint(
                        hinting_question, 
                        code_quality, 
                        solution_completeness
                    )
                    
                    print(f"üí¨ –ö–∞–Ω–¥–∏–¥–∞—Ç: {candidate_response}\n")
                    
                    # –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –¥–∏–∞–ª–æ–≥ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É - –∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç
                    dialogue_result = interactor.continue_task_dialogue(candidate_response)
                    if dialogue_result["success"]:
                        print(f"üë§ –ò–Ω—Ç–µ—Ä–≤—å—é–µ—Ä: {dialogue_result['message']}\n")
                        
                        # –ö–∞–Ω–¥–∏–¥–∞—Ç –º–æ–∂–µ—Ç –∑–∞–¥–∞—Ç—å —É—Ç–æ—á–Ω—è—é—â–∏–π –≤–æ–ø—Ä–æ—Å
                        if round_num < discussion_rounds - 1:
                            follow_up_questions = [
                                "–ü–æ–Ω—è–ª, —Å–ø–∞—Å–∏–±–æ. –ê —á—Ç–æ –Ω–∞—Å—á–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏?",
                                "–•–æ—Ä–æ—à–æ, —É—á—Ç—É. –ï—Å—Ç—å –ª–∏ –µ—â–µ —á—Ç–æ-—Ç–æ, –Ω–∞ —á—Ç–æ —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ?",
                                "–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–¥—Å–∫–∞–∑–∫—É. –ú–æ–∂–µ—Ç–µ —É—Ç–æ—á–Ω–∏—Ç—å —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç?",
                                "–ü–æ–Ω—è–ª. –ê –∫–∞–∫ –ª—É—á—à–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏?"
                            ]
                            follow_up = random.choice(follow_up_questions)
                            print(f"üí¨ –ö–∞–Ω–¥–∏–¥–∞—Ç: {follow_up}\n")
                            
                            # –ò–Ω—Ç–µ—Ä–≤—å—é–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —É—Ç–æ—á–Ω—è—é—â–∏–π –≤–æ–ø—Ä–æ—Å
                            follow_up_result = interactor.continue_task_dialogue(follow_up)
                            if follow_up_result["success"]:
                                print(f"üë§ –ò–Ω—Ç–µ—Ä–≤—å—é–µ—Ä: {follow_up_result['message']}\n")
                    else:
                        break
                
                print("-" * 80)
                print("–û–ë–°–£–ñ–î–ï–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û. –ö–ê–ù–î–ò–î–ê–¢ –ü–†–ò–°–¢–£–ü–ê–ï–¢ –ö –î–û–†–ê–ë–û–¢–ö–ï –†–ï–®–ï–ù–ò–Ø")
                print("-" * 80 + "\n")
                
                # –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ —Å–ª–µ–¥—É—é—â–∞—è –ø–æ–ø—ã—Ç–∫–∞ –±—É–¥–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É
                pending_hint = hinting_question
                
                # –ï—Å–ª–∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –∏—Å—á–µ—Ä–ø–∞–Ω–æ, –¥–æ–±–∞–≤–ª—è–µ–º –µ—â–µ –æ–¥–Ω—É
                if attempt >= max_attempts:
                    max_attempts += 1
        
        print(f"\n{'=' * 80}\n")
        print_practice_progress(interactor)
    
    # –í—ã–≤–æ–¥–∏–º –∏—Ç–æ–≥–æ–≤—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    print("=" * 80)
    print("–ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê")
    print("=" * 80)
    
    practice_tasks = [item for item in interactor.chat_history if item.get("type") == "practice_task"]
    
    print(f"\n–í—Å–µ–≥–æ –∑–∞–¥–∞—á –≤ –ø—Ä–∞–∫—Ç–∏–∫–µ: {len(set(item['task_index'] for item in practice_tasks))}")
    print(f"–í—Å–µ–≥–æ –ø–æ–ø—ã—Ç–æ–∫ —Ä–µ—à–µ–Ω–∏—è: {len(practice_tasks)}")
    
    # –°–æ–±–∏—Ä–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–µ—Ä–¥–∏–∫—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏
    task_verdicts = {}
    for item in practice_tasks:
        task_idx = item.get("task_idx")
        verdict = item.get("verdict", "unknown")
        # –û–±–Ω–æ–≤–ª—è–µ–º –≤–µ—Ä–¥–∏–∫—Ç –¥–ª—è –∑–∞–¥–∞—á–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏–π –±—É–¥–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–º)
        if verdict in ["mastered", "partially_mastered", "not_mastered"]:
            task_verdicts[task_idx] = verdict
    
    verdicts = {}
    for verdict in task_verdicts.values():
        verdicts[verdict] = verdicts.get(verdict, 0) + 1
    
    print("\n–í–µ—Ä–¥–∏–∫—Ç—ã –ø–æ –∑–∞–¥–∞—á–∞–º:")
    for verdict, count in verdicts.items():
        print(f"  {verdict}: {count}")
    
    if not verdicts:
        print("  (–Ω–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –≤–µ—Ä–¥–∏–∫—Ç–æ–≤)")
    
    print("\n" + "=" * 80)
    print("–ò–ù–¢–ï–†–í–¨–Æ –ó–ê–í–ï–†–®–ï–ù–û")
    print("=" * 80)

    # –ü–æ—Å–ª–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —á–∞—Å—Ç–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ–º –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç —á–µ—Ä–µ–∑ Resume
    print("\n" + "=" * 80)
    print("–§–û–†–ú–ò–†–û–í–ê–ù–ò–ï –û–ë–©–ï–ì–û –û–¢–ß–ï–¢–ê –û –ö–ê–ù–î–ò–î–ê–¢–ï")
    print("=" * 80)

    # –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–µ–∑—é–º–µ
    resume = Resume(
        api_key="sk-EntOXD173KXh0i-jb0esww",
        base_url="https://llm.t1v.scibox.tech/v1",
        model_name="qwen3-coder-30b-a3b-instruct-fp8",
        candidate_name="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"
    )

    # –î–æ–±–∞–≤–ª—è–µ–º —Ö–∞—Ä–¥-—Å–∫–∏–ª–ª—ã –∏–∑ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è
    resume.push_hard(hard_desc)

    # –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫—É—é —á–∞—Å—Ç—å –∏–∑ chat_history
    for entry in interactor.chat_history:
        if entry.get("type") == "theory_qa":
            theory_record = (
                f"–í–æ–ø—Ä–æ—Å: {entry.get('question')}\n"
                f"–û—Ç–≤–µ—Ç: {entry.get('answer')}\n"
                f"–í–µ—Ä–¥–∏–∫—Ç: {entry.get('verdict')}\n"
                f"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: {entry.get('comment')}"
            )
            resume.push_theoretical(theory_record)

    # –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫—É—é —á–∞—Å—Ç—å –∏–∑ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞
    practice_report_text = interactor.get_practice_report_text()
    resume.push_practical(practice_report_text)

    # –§–æ—Ä–º–∏—Ä—É–µ–º –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç
    full_summary = resume.get_full_summary()
    print(full_summary)


if __name__ == "__main__":
    simulate_interview()

